<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href="omikuji_tpl.css">
    <script src="js/jquery-2.1.3.min.js"></script>
    <title>おみくじ</title>
</head>

<body>
    <header>
        <h1>～ 神社へようこそ ～</h1>
    </header>

    <div class="wrap">
        <div class="wrap_rgba">
            <div class="contents">

                <div class="omikuji_img" id="omikuji">
                    <img src="omikuji.png" width="300" height="300">
                </div>

                <button id="pull">おみくじを引く</button>

                <div id="hikidashi">
                    <img src="hikidashi.PNG">
                </div>

            </div>
        </div>
    </div>

    <script>
        //pull変数に"おみくじを引く"ボタンを対応させる
        const pull = document.querySelector("#pull");
        //hikidashi変数に引き出しの画像を対応させる
        const hikidashi = document.querySelector("#hikidashi");

        //"おみくじを引く"ボタンを押したら
        pull.onclick = function () {
            pull.innerHTML = "何がでたかな？<br>↓ 引き出しをクリック ↓";

            //引き出しをクリックしたら結果を出す
            hikidashi.onclick = function () {
                pull.innerHTML = "もう一回引く"
                //乱数をつくる
                const num = Math.ceil(Math.random() * 8);
                console.log(num); //コンソール上で数字を表示

                //乱数をif文分岐処理で分けて結果を決める
                if (num == 1) { //大吉
                    const image_name = "daikiti.png";
                    console.log(image_name); //コンソール上で画像の名前を表示
                    const result = document.querySelector("#omikuji");
                    alert("---今日は絶好調！---");
                    //#omikujiの画像を上書きする
                    result.innerHTML = '<img src = "daikiti.png" width="400" height="300">';

                } else if (num == 2) { //中吉
                    const image_name = "chuukiti.png";
                    console.log(image_name);
                    const result = document.querySelector("#omikuji");
                    alert("---今日は誰かに褒められちゃうかも！？---");
                    result.innerHTML = '<img src = "chuukiti.png" width="400" height="300">';

                } else if (num == 3) { //小吉
                    const image_name = "shoukiti.png";
                    console.log(image_name);
                    const result = document.querySelector("#omikuji");
                    alert("---今日はいっぱい食べて寝よう！---");
                    result.innerHTML = '<img src = "shoukiti.png" width="400" height="300">';

                } else if (num == 4) { //吉
                    const image_name = "kiti.png";
                    console.log(image_name);
                    const result = document.querySelector("#omikuji");
                    alert("---今日は好きなことをしよう！---");
                    result.innerHTML = '<img src = "kiti.png" width="400" height="300">';

                } else if (num >= 5) { //凶(凶がでる確率を上げる)
                    const image_name = "kyou.png";
                    console.log(image_name);
                    const result = document.querySelector("#omikuji");
                    alert("---きっといいことあるよ！---");
                    result.innerHTML = '<img src = "kyou.png" width="400" height="300">';
                }
            }
        }
    </script>
</body>

</html>